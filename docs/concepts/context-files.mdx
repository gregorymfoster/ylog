---
title: 'Context Files'
description: 'Understanding .ylog context files and how they work'
---

## What are Context Files?

Context files are human-readable `.ylog` files that ylog automatically generates throughout your codebase. They provide contextual information about the evolution of specific code areas, placed directly where developers need them.

<Info>
Context files solve the "code archaeology" problem - instead of digging through PR history to understand an area, developers can read a curated summary right in the relevant directory.
</Info>

## File Structure and Placement

ylog analyzes your PR history to detect logical code areas and places context files strategically:

```
your-repository/
├── src/
│   ├── auth/
│   │   ├── login.ts
│   │   ├── middleware.ts
│   │   ├── oauth.ts
│   │   └── .ylog                 # ← Auth-specific context
│   ├── api/
│   │   ├── handlers/
│   │   │   ├── users.ts
│   │   │   ├── posts.ts  
│   │   │   └── .ylog             # ← API handlers context
│   │   ├── routes.ts
│   │   └── .ylog                 # ← API general context
│   ├── components/
│   │   ├── ui/
│   │   │   ├── Button.tsx
│   │   │   ├── Modal.tsx
│   │   │   └── .ylog             # ← UI components context
│   │   └── .ylog                 # ← Components general context
│   └── utils/
│       ├── validation.ts
│       ├── helpers.ts
│       └── .ylog                 # ← Utilities context
├── tests/
│   └── .ylog                     # ← Testing context
└── ylog.config.js
```

## Area Detection Algorithm

ylog uses intelligent area detection based on file paths in PR changes:

<Steps>
  <Step title="Path Analysis">
    Examines all file paths changed in each PR
    ```
    PR #123 changes:
    - src/auth/login.ts
    - src/auth/middleware.ts  
    - src/utils/jwt.ts
    
    Detected areas: src/auth, src/utils
    ```
  </Step>
  <Step title="Hierarchy Building">
    Creates nested area relationships
    ```
    src/
    ├── auth/          # 15 PRs
    ├── api/           # 12 PRs  
    │   └── handlers/  # 8 PRs (subset of api/)
    └── utils/         # 20 PRs
    ```
  </Step>
  <Step title="Threshold Filtering">
    Only creates context files for areas with sufficient activity
    ```
    contextFileThreshold: 3
    
    ✅ src/auth (15 PRs) → Creates .ylog
    ✅ src/utils (20 PRs) → Creates .ylog
    ❌ src/config (2 PRs) → Skipped
    ```
  </Step>
</Steps>

## Context File Format

Each `.ylog` file follows a consistent markdown structure:

```markdown
# Context: src/auth

> **Auto-generated context file** - Do not edit manually  
> Last updated: 2025-05-24  
> Generated by [ylog](https://github.com/gregorymfoster/ylog)

## Recent Changes (5 PRs, last 6 months)

### #156: Add OAuth 2.0 support
**2025-05-20** by @alice • `oauth.ts`, `middleware.ts`, `types.ts`

Users needed social login options to reduce friction in sign-up flow. 
Marketing reported 40% drop-off at registration.

**Technical changes:** OAuth flow implementation, token validation, user mapping

### #142: Fix JWT token refresh race condition  
**2025-05-15** by @bob • `jwt.ts`, `middleware.ts`

Token refresh was failing under high load causing user logouts during 
peak traffic. Implemented atomic refresh with Redis locking.

**Technical changes:** Atomic operations, Redis integration, race condition fixes

### #128: Add rate limiting to login endpoint
**2025-05-01** by @charlie • `middleware.ts`, `rate-limiter.ts` and 1 more

Security audit revealed brute force vulnerability. Added exponential 
backoff with IP-based tracking.

---

## Why this file exists

This context file helps developers understand the evolution of the `src/auth` 
area by summarizing relevant pull requests. It's especially useful for:

- **New team members** getting familiar with the codebase
- **Code reviews** requiring historical context  
- **AI coding assistants** that need to understand recent changes
- **Debugging** issues in this area of the code

## How to regenerate

```bash
ylog sync                    # Update all context files
ylog generate src/auth       # Regenerate just this area
```

*Generated from 23 total PRs affecting this area.*
```

## Content Sections Explained

<AccordionGroup>
  <Accordion title="Header and Metadata">
    ```markdown
    # Context: src/auth
    
    > **Auto-generated context file** - Do not edit manually  
    > Last updated: 2025-05-24  
    > Generated by [ylog](https://github.com/gregorymfoster/ylog)
    ```
    
    - Clear identification of the area
    - Warning about auto-generation
    - Last update timestamp for freshness
    - Link back to ylog tool
  </Accordion>

  <Accordion title="Recent Changes">
    ```markdown
    ## Recent Changes (5 PRs, last 6 months)
    
    ### #156: Add OAuth 2.0 support
    **2025-05-20** by @alice • `oauth.ts`, `middleware.ts`, `types.ts`
    
    Users needed social login options to reduce friction in sign-up flow.
    
    **Technical changes:** OAuth flow implementation, token validation
    ```
    
    - Shows PRs from the configured history window (default 6 months)
    - Includes PR number, title, date, author
    - Lists files changed in this area
    - AI-generated summary of business motivation
    - Technical changes summary
  </Accordion>

  <Accordion title="Purpose and Instructions">
    ```markdown
    ## Why this file exists
    
    This context file helps developers understand...
    
    ## How to regenerate
    
    ```bash
    ylog sync                    # Update all context files
    ylog generate src/auth       # Regenerate just this area
    ```
    ```
    
    - Explains the value proposition
    - Provides regeneration commands
    - Shows total PR count for the area
  </Accordion>
</AccordionGroup>

## Configuration Options

Control how context files are generated:

```javascript
// ylog.config.js
export default {
  // Enable/disable context file generation
  generateContextFiles: true,
  
  // Minimum PRs required to create a context file
  contextFileThreshold: 3,
  
  // Time window for "recent changes" section
  historyMonths: 6,
  
  // Maximum PRs to show in recent changes
  maxRecentPRs: 20,
};
```

<AccordionGroup>
  <Accordion title="generateContextFiles">
    **Default:** `true`
    
    Set to `false` to disable context file generation entirely. You'll still get the SQLite database for querying.
  </Accordion>

  <Accordion title="contextFileThreshold">
    **Default:** `3`
    
    Minimum number of PRs required for an area to get a context file. Higher values create fewer, more focused files.
    
    - `1`: Very granular, many small context files
    - `3`: Balanced approach (recommended)
    - `10`: Only major areas get context files
  </Accordion>

  <Accordion title="historyMonths">
    **Default:** `6`
    
    How far back to look for "recent changes". Older PRs are still counted in the total but don't appear in the recent section.
    
    - `3`: Very recent changes only
    - `6`: Good balance of recent vs historical
    - `12`: Longer historical view
  </Accordion>
</AccordionGroup>

## Best Practices

### Version Control

<Tabs>
  <Tab title="Commit Context Files (Recommended)">
    ```bash
    # Add to git for team benefit
    git add "**/*.ylog"
    git commit -m "Update context files"
    ```
    
    **Pros:**
    - Team members get context immediately
    - Context persists in repository history
    - No setup required for new contributors
    
    **Cons:**
    - Adds files to repository
    - May create merge conflicts
  </Tab>
  <Tab title="Gitignore Context Files">
    ```bash
    # .gitignore
    **/*.ylog
    ```
    
    **Pros:**
    - Keeps repository clean
    - No merge conflicts
    - Individual developer preference
    
    **Cons:**
    - Each developer must run ylog
    - Context not immediately available
  </Tab>
</Tabs>

### Automation

Set up automatic context file updates:

```yaml
# .github/workflows/ylog.yml
name: Update Context Files
on:
  push:
    branches: [main]

jobs:
  update-context:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Update context files
        run: |
          npx @graphite/ylog sync
          git add "**/*.ylog"
          git commit -m "Update context files [skip ci]" || exit 0
          git push
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

### Team Adoption

<CardGroup cols={2}>
  <Card title="Code Review Integration" icon="search">
    Reference context files in PR reviews:
    "See `src/auth/.ylog` for recent changes in this area"
  </Card>
  <Card title="Documentation Links" icon="link">
    Link to context files from main documentation:
    "For auth implementation history, see `src/auth/.ylog`"
  </Card>
  <Card title="Onboarding Guides" icon="user-plus">
    Include context file locations in onboarding:
    "Check `.ylog` files to understand area evolution"
  </Card>
  <Card title="IDE Integration" icon="code">
    Create snippets or bookmarks to quickly open relevant context files
  </Card>
</CardGroup>

## Advanced Usage

### Manual Regeneration

```bash
# Regenerate all context files
ylog generate

# Regenerate specific area
ylog generate src/auth

# Check available areas first
ylog show --area src/nonexistent  # Shows available areas
```

### Custom Context Queries

Use the SQLite database for custom context queries:

```bash
# Show all PRs affecting authentication
ylog show --area src/auth --format json

# PRs by specific author in auth area
ylog show --area src/auth --author alice

# Recent auth-related PRs
ylog show --area src/auth --since 2025-01-01
```

<Tip>
Context files are designed to be glanceable. For deeper analysis, use the CLI commands to query the underlying SQLite database.
</Tip>