# Context File Generation Demo

ylog now automatically generates `.ylog` context files throughout your codebase to help developers understand the evolution of different areas.

## How it works

1. **Area Detection**: ylog analyzes file paths from PR changes to identify logical code areas
2. **Threshold Filtering**: Only generates files for areas with ≥3 PRs (configurable)
3. **Markdown Generation**: Creates human-readable context files with PR summaries
4. **Smart Placement**: Places `.ylog` files in the relevant directories

## Example Output

For a directory `src/auth/` with multiple authentication-related PRs, ylog generates:

```markdown
# Context: src/auth

> **Auto-generated context file** - Do not edit manually  
> Last updated: 2025-05-24  
> Generated by [ylog](https://github.com/graphite-dev/ylog)

## Recent Changes (3 PRs, last 6 months)

### #23: Add OAuth 2.0 support
**2025-05-20** by @alice • `oauth.ts`, `middleware.ts`, `types.ts`

Users needed social login options to reduce friction in sign-up flow.

**Technical changes:** OAuth flow implementation, token validation, user mapping

### #18: Fix JWT token refresh race condition  
**2025-05-15** by @bob • `jwt.ts`, `middleware.ts`

Token refresh was failing under high load causing user logouts.

### #12: Implement role-based permissions
**2025-05-10** by @charlie • `permissions.ts`, `middleware.ts` and 2 more

Added granular permission system for different user roles.

**Technical changes:** RBAC implementation, permission decorators, middleware guards

---

## Why this file exists

This context file helps developers understand the evolution of the `src/auth` area by summarizing relevant pull requests. It's especially useful for:

- **New team members** getting familiar with the codebase
- **Code reviews** requiring historical context  
- **AI coding assistants** that need to understand recent changes
- **Debugging** issues in this area of the code

## How to regenerate

\`\`\`bash
ylog sync                    # Update all context files
ylog generate src/auth    # Regenerate just this area
\`\`\`

*Generated from 15 total PRs affecting this area.*
```

## Configuration

Control context file generation in your `ylog.config.js`:

```javascript
export default {
  generateContextFiles: true,     // Enable/disable feature
  contextFileThreshold: 3,        // Minimum PRs to generate file
  historyMonths: 6,              // Recent history window
  // ... other config
};
```

## Benefits

- **Institutional Memory**: Preserves the "why" behind code changes
- **Developer Onboarding**: New team members can quickly understand area evolution  
- **AI Context**: Coding assistants get relevant historical context
- **Code Reviews**: Reviewers understand recent changes in the affected areas
- **Debugging**: Helps identify potential causes when issues arise

## Next Steps

This completes **Phase 5: Context File Generation** from the implementation plan. The system now provides a complete "institutional memory" solution with both structured data (SQLite) and discoverable context files (.ylog) throughout the codebase.